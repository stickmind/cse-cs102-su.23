# 谢尔宾斯基分形

> 通过该任务，我们可以练习远程开发工作流：编辑、构建、运行、测试。

在 `assign0` 文件夹中，输入 `make` 将构建名为 `triangle` 的程序。运行该程序看看它做了什么：

```
./triangle
```

此时应该会输出谢尔宾斯基三角形的 ASCII 表示形式——太酷了！尝试再次运行 `make`：

```
$ make
make: Nothing to be done for `all'.
```

该输出并不是错误提示，只是意味着程序的源代码没有任何变化，因此不需要重新编译任何内容。

在 VS Code 中打开 `triangle.c`，将 `main` 中变量 `nlevels` 的值从 3 更改为 5。保存文件后，修改会自动同步到服务器。**源码修改后，必须使用 `make` 重新构建程序**，然后才能运行新构建的程序来显示更大的三角形。如果忘记重新运行 `make`，将运行修改前的程序！

起始代码使用固定常量来表示要打印的层数。你的任务是扩展程序，提供可选的命令行参数，允许用户指定层数。如果没有参数，`./triangle` 应默认为 3 层。如果提供参数，例如 `./triangle 4` 或 `./triangle 2`，则层数由参数指定。

如果给定的层数不合法（大于 8 或负数），程序应该拒绝绘制图形，并打印一条有用的解释性消息，通知用户如何纠正错误，然后以状态 1 提前终止程序（这表明程序执行出现问题）。实现该任务的最佳函数是 `error` 函数；查看手册（[`man error`](https://man7.org/linux/man-pages/man3/error.3.html)），获取有关此函数的更多信息。需要注意的是，你应该指定 `errnum` 为 0，因为我们不需要打印出与特定错误代码相对应的错误消息。其余参数的值可以通过文档尝试确定。

你的实现必须和 `samples` 中的示例程序完全匹配。

> 注意：可以假设用户只输入整数值，不必担心处理非整数的参数。如果用户指定多个命令行参数，则应仅使用第一个参数。

你应该在程序中定义常量，而不是使用“魔法数字”——硬编码到程序中的数字。

为了完成该任务，程序需要将用户的参数（以字符串形式提供）转换为整数。 C 标准库函数 `atoi` 可以用于执行此操作。查看手册 (`man atoi`) 或在线文档自行学习该函数。

> **man 在线手册操作说明**
> 
> 在命令行输入 `man error` 后，终端会进入 `error` 函数的在线手册文档。手册会列出函数名称、引入的头文件、函数原型、以及一些说明描述。
> 
> 常用快捷键如下：
> 
> - `j` - 向下移动一行
> - `k` - 向上移动一行
> - `ctrl + f` - 向下翻一页
> - `ctrl + b` - 向上翻一页
> - `q` - 退出
> 
> 参考阅读：
> 
> - https://www.howtoforge.com/linux-man-command/
> - http://cn.linux.vbird.org/linux_basic/0160startlinux_3.php