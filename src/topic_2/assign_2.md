# 作业 2. C 字符串

本次作业不仅可以为你解开作业 0 中的疑问，而且还是学习 C 和 Linux 的一个特别合理的方式——编写 Unix/Linux 系统并为其开发命令行工具是创建 C 语言的首要动机！实现这些程序是 C 的一种非常自然的应用场景，你将能够体会到 C 是多么适合这个角色。

这次作业用于测试你对第二个话题的理解。通过以下几个方面的训练，培养你的技能： 
  
- C 字符串的处理（直接处理或者使用字符串库函数处理）
- 从内部实现的角度看待 Unix/Linux 命令行程序，而不仅仅是用户 
- 用编程的方式与文件系统和 Shell 环境变量进行交互

完成本次作业，你将实现一个自己的标准 Unix/Linux 命令行程序 `printenv` 和 `which`，以及标准库函数的改进版本。这是一个令人非常印象深刻的项目，特别是对于只学习了两周的 Unix/Linux 和 C 的同学——这感觉简直太棒了！

对于本次作业，禁止使用 `getenv` 和 `strtok/strsep`，你应该尝试编写自己的函数。对于其他需求，我们反而更推荐使用标准库函数，因为标准库已经编写完成，并且经过了严格的测试、调试以及高度的优化。使用标准库的一个首要的考虑因素是**如何选择合适的库函数**。例如，关于字符串的比较/搜索有几种不同的函数变体（`strstr`、`strchr`、`strncmp`、`strspn` 等），我们要根据作业要求，选择一个能够直接完成任务的函数，而不是随机选择。

为了帮助你评估学习进度，对于每个作业/实验，我们罗列了一些要点，并提供了一些思考问题。在完成作业后，可以使用这些问题进行自我检查。如果你不能很好地回答这些问题，那么还需要进一步努力。

- 标准库包含了多个函数来执行某种形式的字符串比较，例如 `strncmp`、`strstr`、`strchr`、`strspn`……解释这些函数之间的差异并确定每个函数适用的场景。
- 编写一个 C 表达式，将十六进制数字 `char` 转换为对应的数值，即 `'1'` 转换为 `1`、`'f'` 转换为 `15`。请务必考虑可以帮助完成这项工作的 `string.h` 函数。
- 函数 `scan_token` 的第一个参数是 `const char **` 类型。解释该参数使用二级指针的目的。
- 是否添加当前目录 `.` 到 `PATH` 是有争议的（[参见第 2.13 节](http://www.faqs.org/faqs/unix-faq/faq/part2/)）。这会能带来哪些便利？又会造成哪些问题？

## 初始项目

你的个人用户目录下应该已经有 `cs102` 这个文件夹了，通过下面的命令拷贝初始代码到该目录中：

```shell
cp -r /home/cs102-shared/assignments/assign2 ~/cs102
```
