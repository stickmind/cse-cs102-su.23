# 测试与提交

你的程序是否正确，很大程度上依赖于你的测试用例是否完善。如果测试不到位，一些隐藏的漏洞将很难被发现。经过 CS101 的训练，对于 TDD 的测试用例编写，我们可以总结一些基本的规范：

- 黑盒测试：不需要了解程序的底层实现，以用户的视角来测试程序。一般要特别注意一些边界情况，比如作业 0 中的负值，比如一些参数类型不正确的情况。这些案例的编写需要你从客户视角，从多个角度思考真实场景下可能出现的问题。
- 白盒测试：需要你了解程序的底层实现。比如 CS101 中很多 ADT 都会包含一个 `debug` 接口，直接测试数据结构的底层表示。
- 压力测试：开发时用于测试的数据集一般较小，真实场景中很可能发生用户输入较多，造成程序崩溃的情况。

在编写作业代码时，一个很好的测试策略是使用测试驱动开发，如下所示：

- 确定一个小的具体任务（要修复的错误、要添加的功能、所需的行为更改）
- 为所需结果构建测试用例，并验证当前代码是否可以通过这些测试
- 修改代码，直到通过所有测试为止
- 测试系统的其余部分，以验证是否无意中破坏其他内容

每次只需要更改少量代码，并通过精心构造的测试用例来验证结果。这样可以让你的开发过程稳步向前，同时确保你在每一步都有一个完整的功能实现。

作为作业的一部分，你应该尽可能完善 `custom_tests` 中的测试案例，至少添加 3 到 5 个。为了更好的可读性，也建议你为代码和测试用例编写注释或文档。这些注释将提醒你添加的每个测试的初衷，以及这些测试之间的相互关系。

例如，程序 `sat` 可以测试不同的位宽、极值、范围内的总和以及溢出的总和。对于 `automata`，请仔细查看在生成过程中，哪些地方有特殊情况，并编写明确的测试用例解决这些问题。虽然你可以向 `utf8` 提供大约 65,000 个可能的码点，但考虑到它们只有几个不同的情况，因此针对每个情况的典型测试用例将更有意义，特别是边界处的情况。

更多测试的建议，可以阅读 [Software Testing Strategies
](https://web.stanford.edu/class/archive/cs/cs107/cs107.1206/testing)

## 提交前的检查

作业提交方式参考作业 0，可以使用 `submit` 提交你的代码。为了追求完美，一些加分项值得你去注意：

- 编译是否干净，有无警告等编译错误？
- 默认测试是否全部通过？
- 自定义测试案例是否全面？

对于代码实现部分：

- 有没有其他地方，还可以使用位运算进行改写？
- 算法是否高效？还记得如何分析算法复杂度吗？
- 代码风格及可读性是否注意过？有没有进行函数拆分，提取出一些更通用的代码？
- 文档有没有尝试编写？一份好的代码就如同一篇优美的散文，不多一字，也不少一字。加油！

另外也鼓励你花点时间反思一下目前的状态，你已经掌握了哪些知识点和工具？还需要继续训练哪些新知识点和技能？完成这次作业后，你应该适应了 C 和命令行的使用，熟悉编写/编译/调试的过程。这是一个重要的里程碑！
